{% extends "recipes/listing.html" %}

{% block body %}
<h2 style= "margin-top: 5rem ;">Categories</h2>

<form action="{% url 'categories' %}" method="post">
    {% csrf_token %}
    <select name="categories">
        {% for category in categories %}
            <option value="{{ category.id }}">{{ category }}</option>
        {% endfor %}
    </select>

    <input type="submit" class="btn btn-primary">
</form>

<!-- <div id="info">Observe the platform icon's motion direction when there is up and down hover on options.</div> -->

<!-- <form id="app-cover" action="{% url 'categories' %}" method="post">
    {% csrf_token %}
    <div id="select-box">
        <input type="checkbox" id="options-view-button">
        <div id="select-button" class="brd">
            <div id="selected-value">
                <span>Select a platform</span>
            </div>
            <div id="chevrons">
                <i class="fas fa-chevron-up"></i>
                <i class="fas fa-chevron-down"></i>
            </div>
        </div>
            <div id="options">
                <div class="option">
                    <input class="s-c top" type="radio" name="platform" value="codepen">
                    <input class="s-c bottom" type="radio" name="platform" value="codepen">
                    <i class="fab fa-codepen"></i>
                    <span class="label">Lunch</span>
                    <span class="opt-val">Lunch</span>
                </div>
            </div>
            <div id="options">
                <div class="option">
                    <input class="s-c top" type="radio" name="platform" value="codepen">
                    <input class="s-c bottom" type="radio" name="platform" value="codepen">
                    <i class="fab fa-codepen"></i>
                    <span class="label">Lu</span>
                    <span class="opt-val">Lu</span>
                </div>
            </div>
    </div>
</form> -->

<!-- 
<form id="app-cover">
            <div id="select-box">
                    <input type="checkbox" id="options-view-button">
                    <div id="select-button" class="brd">
                            <div id="selected-value">
                                <span>Select a platform</span>
                            </div>
                            <div id="chevrons">
                                    <i class="fas fa-chevron-up"></i>
                                    <i class="fas fa-chevron-down"></i>
                            </div>
                    </div>
                    <div id="options">
                            <div class="option">
                                    <input class="s-c top" type="radio" name="platform" value="codepen">
                                    <input class="s-c bottom" type="radio" name="platform" value="codepen">
                                    <i class="fab fa-codepen"></i>
                                    <span class="label">Breakfast</span>
                                    <span class="opt-val">Breakfast</span>
                            </div>
                            <div class="option">
                                    <input class="s-c top" type="radio" name="platform" value="dribbble">
                                    <input class="s-c bottom" type="radio" name="platform" value="dribbble">
                                    <i class="fab fa-dribbble"></i>
                                    <span class="label">Lunch</span>
                                    <span class="opt-val">Lunch</span>
                            </div>
                            <div class="option">
                                    <input class="s-c top" type="radio" name="platform" value="behance">
                                    <input class="s-c bottom" type="radio" name="platform" value="behance">
                                    <i class="fab fa-behance"></i>
                                    <span class="label">Dinner</span>
                                    <span class="opt-val">Dinner</span>
                            </div>
                            <div class="option">
                                    <input class="s-c top" type="radio" name="platform" value="hackerrank">
                                    <input class="s-c bottom" type="radio" name="platform" value="hackerrank">
                                    <i class="fab fa-hackerrank"></i>
                                    <span class="label">Dessert</span>
                                    <span class="opt-val">Dessert</span>
                            </div>
                            <div id="option-bg"></div>
                    </div>
            </div>
    </form> -->

<h6>{{ category }}</h6>
<ul style="list-style-type:none;">
    {% for listing in listings %} 
        <div style="border: 1px solid lightgray; margin: 50px; padding: 20px; border-radius: 10px;">
            <table style="width: 100%;">
                <tbody>
                    <tr>
                        <td style="width:40px;">
                            <img src="{{ listing.image_url }}" style="width:80%;"/>
                        </td>
                        <td style="width: 60%;"  valign="top">
                            <h5><a href="{% url 'listing' listing.id %}" >{{ listing.title }}</a></h5>
                            <div>{{ listing.description }}</div>
                            <!-- <div>Bid: ${{ listing.price }}</div> -->
                            <div>Listed by: {{ listing.user }}</div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        
    {% empty %}
        {% if category != "" %}
            <li>No listings in this category</li>
        {% endif %}

    {% endfor %}
</ul>

{% endblock %}